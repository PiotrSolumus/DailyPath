---
import AppLayout from "../layouts/AppLayout.astro";
import { requireAuth } from "../lib/utils/auth";
import { DashboardView } from "../components/dashboard/DashboardView";

// Ensure user is authenticated
const user = requireAuth(Astro);
---

<AppLayout title="Dashboard - DailyPath" user={user}>
  <DashboardView client:load userId={user.id} timezone={user.timezone ?? "UTC"} initialUser={user} />
</AppLayout>
