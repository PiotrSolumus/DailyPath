---
import AuthLayout from "../layouts/AuthLayout.astro";
import { LoginForm } from "../components/auth/LoginForm";
import { redirectIfAuthenticated } from "../lib/utils/auth";

// Redirect to dashboard if user is already logged in
redirectIfAuthenticated(Astro);

const redirect = Astro.url.searchParams.get("redirect") || "/dashboard";
const message = Astro.url.searchParams.get("message");
---

<AuthLayout title="Logowanie - DailyPath">
  <LoginForm client:load redirect={redirect} initialMessage={message} />
</AuthLayout>
